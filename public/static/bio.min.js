function btnColor(t,e,a){let n=$("select#buttonstyle").val();return"trec"==n||"tro"==n?borderColor(t,e,a):bgColor(t,e,a)}function bgColor(t,e,a){$(t).css("background-color",e?e.toHexString():""),a.val(e.toHexString())}function Color(t,e,a){$(t).css("color",e?e.toHexString():""),a.val(e.toHexString())}function borderColor(t,e,a){$(t).css("border-top-color",e?e.toHexString():""),a.val(e.toHexString())}function gradient(t,e,a){a.val(e.toHexString());let n=$("#bgst").val(),l=$("#bgsp").val();$(t).attr("style","background:linear-gradient(135deg, "+n+" 0%, "+l+" 100%);")}function customTheme(t,e,a,n){$("#preview .btn-custom").not(".btn-transparent").css("background-color",e),$("#buttoncolor").val(e),$("#preview .btn-custom").not(".btn-transparent").css("color",a),$("#buttontextcolor").val(a),$("#preview, #preview h3 > span, #preview p, #preview #bio-tag").css("color",n),$("#textcolor").val(n),$("#preview .card").removeClass(function(t,e){return(e.match(/(^|\s)biobg_\S+/g)||[]).join(" ")}),$("#preview .card").addClass(t),$("#buttontextcolor").spectrum({color:a,showInput:!0,preferredFormat:"hex",move:function(t){Color("#preview .btn-custom",t,$(this))},hide:function(t){Color("#preview .btn-custom",t,$(this))}}),$("#buttoncolor").spectrum({color:e,showInput:!0,preferredFormat:"hex",move:function(t){btnColor("#preview .btn-custom",t,$(this))},hide:function(t){btnColor("#preview .btn-custom",t,$(this))}}),$("#textcolor").spectrum({color:n,showInput:!0,preferredFormat:"hex",move:function(t){Color("#preview, #preview h3 > span, #preview p",t,$(this))},hide:function(t){Color("#preview, #preview h3 > span  #preview p",t,$(this))}})}function changeTheme(t,e,a,n,l,i){$("#preview .card").removeClass(function(t,e){return(e.match(/(^|\s)biobg_\S+/g)||[]).join(" ")}),$("#preview .card").css("background-color",t),$("#bg").val(t),$("#preview .btn-custom").not(".btn-transparent").css("background-color",n),$("#buttoncolor").val(n),$("#preview .btn-custom").not(".btn-transparent").css("color",l),$("#buttontextcolor").val(l),$("#preview, #preview h3 > span, #preview p, #preview #bio-tag").css("color",i),$("#textcolor").val(i),$("#preview .card").attr("style","background:linear-gradient(135deg, "+e+" 0%, "+a+" 100%);"),$("#bgst").val(e),$("#bgsp").val(a),$("input[name=color]").data("default",i).val(i),$("input[name=bg]").data("default",t).val(t),$("#bg").spectrum({color:t,showInput:!0,preferredFormat:"hex",move:function(t){bgColor("#preview .card",t,$(this))},hide:function(t){bgColor("#preview .card",t,$(this))}}),$("#bgst").spectrum({color:e,showInput:!0,preferredFormat:"hex",move:function(t){gradient("#preview .card",t,$(this))},hide:function(t){gradient("#preview .card",t,$(this))}}),$("#bgsp").spectrum({color:a,showInput:!0,preferredFormat:"hex",move:function(t){gradient("#preview .card",t,$(this))},hide:function(t){gradient("#preview .card",t,$(this))}}),$("#buttontextcolor").spectrum({color:l,showInput:!0,preferredFormat:"hex",move:function(t){Color("#preview .btn-custom",t,$(this))},hide:function(t){Color("#preview .btn-custom",t,$(this))}}),$("#buttoncolor").spectrum({color:n,showInput:!0,preferredFormat:"hex",move:function(t){btnColor("#preview .btn-custom",t,$(this))},hide:function(t){btnColor("#preview .btn-custom",t,$(this))}}),$("#textcolor").spectrum({color:i,showInput:!0,preferredFormat:"hex",move:function(t){Color("#preview, #preview h3 > span, #preview p",t,$(this))},hide:function(t){Color("#preview, #preview h3 > span  #preview p",t,$(this))}})}function fntext(t,e=null,a=null){if(e)var n=e.text;else{let e=t.parent("#modal-text").find("textarea[name=content]");n=texteditor.getData();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let l='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="text"><textarea id="'+a+'_editor" class="form-control p-2" name="data['+slug(a)+'][text]" placeholder="e.g. some description here">'+n+"</textarea></div></div></div></div>";$("#content").append('<div class="item"><p id="'+a+'">'+n+"</p></div>"),$("#linkcontent").append(l),CKEDITOR.replace(a+"_editor",{height:100})}function fnlink(t,e=null,a=null){let n=$("#buttoncolor").val(),l=$("#buttontextcolor").val(),i=$("#buttonstyle").val();if(e)var o=e.text,s=e.icon,r=e.animation,d=e.link,c=e.urlid,p=e.clicks;else{let e=t.parent("#modal-links").find("input[name=text]"),a=t.parent("#modal-links").find("input[name=icon]"),n=t.parent("#modal-links").find("select[name=animation]"),l=t.parent("#modal-links").find("input[name=link]");if(""==l.val())return l.after('<p class="alt-error text-danger mt-2">'+l.data("error")+"</p>"),!1;o=e.val(),d=l.val(),r=n.val(),s=a.val(),c=null,p=null;l.val(""),e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let m='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i>'+(null!==p?'<span class="text-muted"><i class="fa fa-mouse me-1"></i> '+p+" "+(null!==c?'<a href="'+appurl+"/"+c+'/stats" class="ms-1 text-muted" target="_blank">('+biolang.stats+")</a>":"")+" </span>":"")+'<a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="" id="'+a+'Container"><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.icon+'</label><input type="text" class="form-control p-2 icon" name="data['+slug(a)+'][icon]" value="'+s+'" id="'+a+'_icon" placeholder="e.g. fab fa-twitter"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][text]" value="'+o+'" placeholder="e.g. My Site"></div></div></div><div class="row mt-2"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="link"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+d+'" placeholder="e.g. https://"></div></div></div><div class="row mt-2"><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.animation+'</label><select name="data['+slug(a)+'][animation]" class="animation form-select mb-2 p-2"><option value="none" '+("none"==r?"selected":"")+">"+biolang.none+'</option><option value="shake" '+("shake"==r?"selected":"")+">"+biolang.shake+'</option><option value="scale" '+("scale"==r?"selected":"")+">"+biolang.scale+'</option><option value="jello" '+("jello"==r?"selected":"")+">"+biolang.jello+'</option><option value="vibrate" '+("vibrate"==r?"selected":"")+">"+biolang.vibrate+'</option><option value="wobble" '+("wobble"==r?"selected":"")+">"+biolang.wobble+"</option></select></div></div></div></div></div></div>";"trec"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="animate_'+r+' btn-border btn w-100 text-start btn-custom btn-transparent btn-link rounded mb-2 p-2 d-flex" style="background:transparent!important;border-color:'+n+";color:"+l+';">'+(""!=s?'<i class="'+s+'" style="font-size:15px"></i>':"")+' <span class="align-top ms-auto me-auto">'+o+"</span></a></div>"):"tro"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="animate_'+r+' btn-border btn w-100 text-start btn-custom btn-transparent btn-link mb-2 p-2 d-flex rounded-pill" style="background:transparent!important;border-color:'+n+";color:"+l+';">'+(""!=s?'<i class="'+s+'" style="font-size:15px"></i>':"")+' <span class="align-top ms-auto me-auto">'+o+"</span></a></div>"):"rounded"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="animate_'+r+' btn w-100 text-start btn-custom btn-link mb-2 p-2 d-flex rounded-pill" style="background:'+n+"!important;color:"+l+';">'+(""!=s?'<i class="'+s+'" style="font-size:15px"></i>':"")+' <span class="align-top ms-auto me-auto">'+o+"</span></a></div>"):$("#content").append('<div class="item"><a href="#" id="'+a+'" class="animate_'+r+' btn w-100 rounded text-start btn-custom btn-link mb-2 p-2 d-flex" style="background:'+n+"!important;color:"+l+'">'+(""!=s?'<i class="'+s+'" style="font-size:15px"></i>':"")+' <span class="align-top ms-auto me-auto">'+o+"</span></a></div>"),$("#linkcontent").append(m),$("[data-id="+a+"] select.animation").change(function(){$("#"+a).removeClass(function(t,e){return(e.match(/(^|\s)animate_\S+/g)||[]).join(" ")}),$("#"+a).addClass("animate_"+$(this).val())}),$(document).on("keyup","[data-id="+a+"] .text",function(){$("#"+a+" span").text($(this).val())}),$(document).on("blur iconpickerUpdated","[data-id="+a+"] .icon",function(){$("#"+a).html((""!=$(this).val()?'<i class="'+$(this).val()+'" style="font-size:21px;"></i>':"")+' <span class="align-top ms-auto me-auto">'+$("[data-id="+a+"] .text").val()+"</span>")}),$("#"+a+"_icon").iconpicker(),$("#"+a).addClass("animate_"+r)}function fnyoutube(t,e=null,a=null){let n=/http(?:s?):\/\/(?:www\.)?youtu(?:be\.com\/watch\?v=|\.be\/)([\w\-\_]*)(&(amp;)?‌​[\w\?‌​=]*)?/i;if(e)var l=e.link;else{let e=t.parent("#modal-youtube").find("input[name=link]");if(!n.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let i='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="youtube"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div>',o=l.match(n);$("#content").append('<div class="item"><iframe id="'+a+'" class="rounded mb-2" src="https://www.youtube.com/embed/'+o[1]+'" width="100%" height="200"></iframe></div>'),$("#linkcontent").append(i)}function fnwhatsapp(t,e=null,a=null){let n=$("#buttoncolor").val(),l=$("#buttontextcolor").val(),i=$("#buttonstyle").val();if(e)var o=e.label,s=e.phone;else{let e=t.parent("#modal-whatsapp").find("input[name=phone]"),a=t.parent("#modal-whatsapp").find("input[name=label]");if(e.val().length<0)return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;o=a.val(),s=e.val();e.val(""),a.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let r='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.phone+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="whatsapp"><input type="text" class="form-control p-2" name="data['+slug(a)+'][phone]" value="'+s+'" placeholder=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][label]" value="'+o+'" placeholder=""></div></div></div></div></div>';"trec"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link rounded mb-2 p-2" style="background:transparent!important;border-color:'+n+";color:"+l+';">'+o+"</a></div>"):"tro"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link mb-2 p-2 rounded-pill" style="background:transparent!important;border-color:'+n+";color:"+l+';">'+o+"</a></div>"):"rounded"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom btn-link mb-2 p-2 rounded-pill" style="background:'+n+"!important;color:"+l+';">'+o+"</a></div>"):$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 rounded btn-custom btn-link mb-2 p-2" style="background:'+n+"!important;color:"+l+'">'+o+"</a></div>"),$("#linkcontent").append(r)}function fnspotify(t,e=null,a=null){let n=/^https:\/\/open.spotify.com\/track\/([a-zA-Z0-9]+)(.*)$/i;if(e)var l=e.link;else{let e=t.parent("#modal-spotify").find("input[name=link]");if(!n.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let i='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="spotify"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#content").append('<div class="item"><iframe id="'+a+'" class="rounded mb-2" src="'+l.replace("/track/","/embed/track/")+'" width="100%" height="200"></iframe></div>'),$("#linkcontent").append(i)}function fnitunes(t,e=null,a=null){let n=/^https:\/\/music.apple.com\/(.*)/i;if(e)var l=e.link;else{let e=t.parent("#modal-itunes").find("input[name=link]");if(!n.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let i='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="itunes"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div>';$("#content").append('<div class="item"><iframe id="'+a+'" class="rounded mb-2" src="'+l.replace("music.apple","embed.music.apple")+'" width="100%" height="200"></iframe></div>'),$("#linkcontent").append(i)}function fnpaypal(t,e=null,a=null){let n=$("#buttoncolor").val(),l=$("#buttontextcolor").val(),i=$("#buttonstyle").val();if(e)var o=e.label,s=e.email,r=e.amount,d=e.currency;else{let e=t.parent("#modal-paypal").find("input[name=label]"),a=t.parent("#modal-paypal").find("input[name=email]"),n=t.parent("#modal-paypal").find("input[name=amount]"),l=t.parent("#modal-paypal").find("select[name=currency]");o=e.val(),s=a.val(),r=n.val(),d=l.val();e.val(""),a.val(""),n.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let c='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="" id="'+a+'Container"><div class="row mt-2><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(o)+'][type]" value="paypal"><input type="text" class="form-control p-2" name="data['+slug(o)+'][label]" value="'+o+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.email+'</label><input type="text" class="form-control p-2" name="data['+slug(o)+'][email]" value="'+s+'"></div></div></div><div class="row mt-2><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.amount+'</label><input type="text" class="form-control p-2" name="data['+slug(o)+'][amount]" value="'+r+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.currency+'</label><input type="text" class="form-control p-2" name="data['+slug(o)+'][currency]" value="'+d+'"></div></div></div></div></div></div>';"trec"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link rounded mb-2 p-2" style="background:transparent!important;border-color:'+n+";color:"+l+';">'+o+"</a></div>"):"tro"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link mb-2 p-2 rounded-pill" style="background:transparent!important;border-color:'+n+";color:"+l+';">'+o+"</a></div>"):"rounded"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom btn-link mb-2 p-2 rounded-pill" style="background:'+n+"!important;color:"+l+';">'+o+"</a></div>"):$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 rounded btn-custom btn-link mb-2 p-2" style="background:'+n+"!important;color:"+l+'">'+o+"</a></div>"),$("#linkcontent").append(c)}function fntiktok(t,e=null,a=null){let n=/^https?:\/\/(?:www|m)\.(?:tiktok.com)\/(.*)\/video\/(.*)/i;if(e)var l=e.link;else{let e=t.parent("#modal-tiktok").find("input[name=link]");if(!n.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let i='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="tiktok"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div></div>',o=l.match(n);$("#content").append('<div class="item"><div id="'+a+'"><blockquote class="tiktok-embed rounded" cite="'+l+'" data-video-id="'+o[2]+'" style="max-width: 605px;min-width: 325px;" > <section> </section> </blockquote> <script async src="https://www.tiktok.com/embed.js"></script></div></div>'),$("#linkcontent").append(i)}function fnheading(t,e=null,a=null){if(e)var n=e.text,l=e.format,i=e.color;else{let e=t.parent("#modal-heading").find("input[name=text]"),a=t.parent("#modal-heading").find("select[name=type]"),o=t.parent("#modal-heading").find("input[name=color]");n=e.val(),l=a.val(),i=o.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.style+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="heading"><select name="data['+slug(a)+'][format]" class="form-select mb-2 p-2"><option value="h1" '+("h1"==l?"selected":"")+'>H1</option><option value="h2" '+("h2"==l?"selected":"")+'>H2</option><option value="h3" '+("h3"==l?"selected":"")+'>H3</option><option value="h4" '+("h4"==l?"selected":"")+'>H4</option><option value="h5" '+("h5"==l?"selected":"")+'>H5</option><option value="h6" '+("h6"==l?"selected":"")+'>H6</option></select></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="heading"><input type="text" class="form-control p-2" name="data['+slug(a)+'][text]" placeholder="e.g. Bio Page" value="'+n+'"></div></div><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.color+'</label><br><input type="color" data-trigger="color" name="data['+slug(a)+'][color]" value="'+i+'" class="form-control p-2"></div></div></div></div></div>';$("#content").append('<div class="item"><'+l+' id="'+a+'" style="color:'+i+' !important">'+n+"</"+l+"></div>"),$("#linkcontent").append(o),$("[data-id="+a+"] [data-trigger=color]").spectrum({color:i,showInput:!0,preferredFormat:"hex",move:function(t){Color("#"+a,t,$(this))},hide:function(t){Color("#"+a,t,$(this))}}),$("[data-id="+a+"] select").change(function(){$("#"+a).parent(".item").html("<"+$(this).val()+' id="'+a+'" style="color:'+$("[data-id="+a+"] input[type=color]").val()+' !important">'+n+"</"+$(this).val()+">")}),$(document).on("keyup","[data-id="+a+"] input[type=text]",function(){$("#"+a).text($(this).val())})}function fndivider(t,e=null,a=null){if(e)var n=e.color,l=e.style,i=e.height;else{let e=t.parent("#modal-divider").find("input[name=color]"),a=t.parent("#modal-divider").find("select[name=type]"),o=t.parent("#modal-divider").find("select[name=height]");n=e.val(),l=a.val(),i=o.val();e.val("")}null===a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><input type="hidden" name="data['+slug(a)+'][type]" value="divider"><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.color+'</label><br><input type="color" data-trigger="color" name="data['+slug(a)+'][color]" value="'+n+'" class="form-control p-2"></select></div></div><div class="col-md-4"><label class="form-label">'+biolang.height+'</label><br><div class="form-group"><input type="number" min="1" max="10" name="data['+slug(a)+'][height]" value="'+i+'" data-trigger="height" class="form-control p-2"></select></div></div><div class="col-md-4"><label class="form-label">'+biolang.style+'</label><br><div class="form-group"><select name="data['+slug(a)+'][style]" data-trigger="style" class="form-select mb-2 p-2"><option value="solid" '+("solid"==l?"selected":"")+">"+biolang.solid+'</option><option value="dotted" '+("dotted"==l?"selected":"")+">"+biolang.dotted+'</option><option value="dashed" '+("dashed"==l?"selected":"")+">"+biolang.dashed+"</option></select></div></div></div></div></div>";$("#content").append('<div class="item"><hr id="'+a+'" style="background:transparent;border-top-style:'+l+";border-top-width:"+i+"px;border-top-color:"+n+'"></div>'),$("#linkcontent").append(o),$("[data-id="+a+"] input[data-trigger=color]").spectrum({color:n,showInput:!0,preferredFormat:"hex",move:function(t){borderColor("#"+a,t,$(this))},hide:function(t){borderColor("#"+a,t,$(this))}}),$("[data-id="+a+"] select[data-trigger=style]").change(function(){$("hr#"+a).css("border-top-style",$(this).val())}),$("[data-id="+a+"] input[data-trigger=height]").blur(function(){$("hr#"+a).css("border-top-width",parseInt($(this).val())+"px")})}function fnrss(t,e=null,a=null){let n=$("#buttoncolor").val(),l=$("#buttontextcolor").val(),i=($("#buttonstyle").val(),/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);if(e)var o=e.link;else{let e=t.parent("#modal-rss").find("input[name=link]");if(!i.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;o=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let s='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="rss"><input type="link" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+o+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#content").append('<div class="item"><div class="d-block rounded btn-custom text-center w-100 mb-2 p-3" id="'+a+'" style="background:'+n+"!important;color:"+l+'">RSS</div></div>'),$("#linkcontent").append(s)}function fnimage(t,e=null,a=null){if(e)var n=e.link,l=e.image;else n="",l="";null==a&&(a=(Math.random()+1).toString(36).substring(2));let i='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+$("#modal-image").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="text" name="data['+slug(a)+'][link]" class="form-control p-2" placeholder="e.g. https://" value="'+n+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.file+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="image"><input type="file" class="form-control p-2" name="'+slug(a)+'" data-for="'+a+'" accept=".jpg, .png" data-trigger="setpreview"></div></div></div></div></div>';$("#content").append('<div class="item"><div class="d-block rounded text-center w-100 mb-2" id="'+a+'">'+(""!=l?'<img src="'+appurl+"/content/profiles/"+l+'" class="img-fluid rounded">':"Image")+"</div></div>"),$("#linkcontent").append(i)}function fnnewsletter(t,e=null,a=null){let n=$("#buttoncolor").val(),l=$("#buttontextcolor").val(),i=$("#buttonstyle").val();if(e)var o=e.text;else{let e=t.parent("#modal-newsletter").find("input[name=text]");o=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let s='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="newsletter"><input type="text" class="form-control p-2" name="data['+slug(a)+'][text]" value="'+o+'"></div></div></div></div></div>';"trec"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link rounded mb-2 p-2" style="background:transparent!important;border-color:'+n+";color:"+l+';"><span>'+o+'</span> <i class="fa fa-chevron-down float-end mt-1"></i></a></div>'):"tro"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link mb-2 p-2 rounded-pill" style="background:transparent!important;border-color:'+n+";color:"+l+';"><span>'+o+'</span> <i class="fa fa-chevron-down float-end mt-1"></i></a></div>'):"rounded"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom btn-link mb-2 p-2 rounded-pill" style="background:'+n+"!important;color:"+l+';"><span>'+o+'</span> <i class="fa fa-chevron-down float-end mt-1"></i></a></div>'):$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 rounded btn-custom btn-link mb-2 p-2" style="background:'+n+"!important;color:"+l+'"><span>'+o+'</span> <i class="fa fa-chevron-down float-end mt-1"></i></a></div>'),$("#linkcontent").append(s),$(document).on("keyup","[data-id="+a+"] input[type=text]",function(){$("#"+a+" span").text($(this).val())})}function fncontact(t,e=null,a=null){let n=$("#buttoncolor").val(),l=$("#buttontextcolor").val(),i=$("#buttonstyle").val();if(e)var o=e.text,s=e.email;else{let e=t.parent("#modal-contact").find("input[name=text]"),a=t.parent("#modal-contact").find("input[name=email]");o=e.val(),s=a.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2))
;let r='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][text]" value="'+o+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.email+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="contact"><input type="text" class="form-control p-2" name="data['+slug(a)+'][email]" value="'+s+'"></div></div></div></div></div>';"trec"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link rounded mb-2 p-2" style="background:transparent!important;border-color:'+n+";color:"+l+';"><span>'+o+'</span> <i class="fa fa-chevron-down float-end mt-1"></i></a></div>'):"tro"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link mb-2 p-2 rounded-pill" style="background:transparent!important;border-color:'+n+";color:"+l+';"><span>'+o+'</span> <i class="fa fa-chevron-down float-end mt-1"></i></a></div>'):"rounded"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom btn-link mb-2 p-2 rounded-pill" style="background:'+n+"!important;color:"+l+';"><span>'+o+'</span> <i class="fa fa-chevron-down float-end mt-1"></i></a></div>'):$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 rounded btn-custom btn-link mb-2 p-2" style="background:'+n+"!important;color:"+l+'"><span>'+o+'</span> <i class="fa fa-chevron-down float-end mt-1"></i></a></div>'),$("#linkcontent").append(r),$(document).on("keyup","[data-id="+a+"] .text",function(){$("#"+a+" span").text($(this).val())})}function fnvcard(t,e=null,a=null){let n=$("#buttoncolor").val(),l=$("#buttontextcolor").val(),i=$("#buttonstyle").val();if(e)var o=e.button,s=e.fname,r=e.lname,d=e.phone,c=e.cell,p=e.fax,m=e.email,u=e.address,v=e.city,f=e.state,g=e.country,b=e.zip,h=e.site;else{var w=t.parent("#modal-vcard").find("input[name=button]"),y=t.parent("#modal-vcard").find("input[name=fname]"),x=t.parent("#modal-vcard").find("input[name=lname]"),k=t.parent("#modal-vcard").find("input[name=phone]"),C=t.parent("#modal-vcard").find("input[name=cell]"),D=t.parent("#modal-vcard").find("input[name=fax]"),S=t.parent("#modal-vcard").find("input[name=email]"),P=t.parent("#modal-vcard").find("input[name=address]"),I=t.parent("#modal-vcard").find("input[name=city]"),j=t.parent("#modal-vcard").find("input[name=state]"),M=t.parent("#modal-vcard").find("input[name=country]"),_=t.parent("#modal-vcard").find("input[name=site]"),T=t.parent("#modal-vcard").find("input[name=zip]");o=w.val();w.val("");s=y.val();y.val("");r=x.val();x.val("");d=k.val();k.val("");c=C.val();C.val("");p=D.val();D.val("");m=S.val();S.val("");u=P.val();P.val("");v=I.val();I.val("");f=j.val();j.val("");g=M.val();M.val("");h=_.val();_.val("");b=T.val();T.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let F='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.fname+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][fname]" value="'+s+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.lname+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="vcard"><input type="text" class="form-control p-2" name="data['+slug(a)+'][lname]" value="'+r+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.email+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][email]" value="'+m+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.phone+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][phone]" value="'+d+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.cell+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][cell]" value="'+c+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.fax+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][fax]" value="'+p+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.site+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][site]" value="'+h+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.address+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][address]" value="'+u+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.city+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][city]" value="'+v+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.state+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][state]" value="'+f+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.zip+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][zip]" value="'+b+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.country+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][country]" value="'+g+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2" data-trigger="vcardbutton" name="data['+slug(a)+'][button]" value="'+o+'"></div></div></div></div></div>';"trec"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link rounded mb-2 p-2" style="background:transparent!important;border-color:'+n+";color:"+l+';">'+(o||"vCard")+"</a></div>"):"tro"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn-border btn w-100 btn-custom btn-transparent btn-link mb-2 p-2 rounded-pill" style="background:transparent!important;border-color:'+n+";color:"+l+';">'+(o||"vCard")+"</a></div>"):"rounded"==i?$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 btn-custom btn-link mb-2 p-2 rounded-pill" style="background:'+n+"!important;color:"+l+';">'+(o||"vCard")+"</a></div>"):$("#content").append('<div class="item"><a href="#" id="'+a+'" class="btn w-100 rounded btn-custom btn-link mb-2 p-2 text-center" style="background:'+n+"!important;color:"+l+'">'+(o||"vCard")+"</a></div>"),$("#linkcontent").append(F)}function fnproduct(t,e=null,a=null){if(e)var n=e.name,l=e.description,i=e.amount,o=e.link;else n="",l="",i="",o="";null==a&&(a=(Math.random()+1).toString(36).substring(2));let s='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+$("#modal-product").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12 mb-2"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(a)+'][name]" value="'+n+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.description+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="product"><input type="text" class="form-control p-2" name="data['+slug(a)+'][description]" placeholder="e.g. $9.99"  value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.amount+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="product"><input type="text" class="form-control p-2" name="data['+slug(a)+'][amount]" placeholder="e.g. $9.99"  value="'+i+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.file+'</label><input type="file" class="form-control p-2 text" name="'+slug(a)+'" accept=".jpg, .png" value=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+o+'" placeholder="http://"></div></div></div></div></div>';$("#content").append('<div class="item mb-2" id="'+a+'"><div class="d-flex border border-dark p-1 rounded"><div class="p-5 bg-dark rounded me-2"></div><div class="text-start"><h3>'+n+"</h3><strong>"+i+"</strong><br><p>"+l+"</p></div></div>"),$("#linkcontent").append(s)}function fnhtml(t,e=null,a=null){if(e)var n=e.html;else{let e=t.parent("#modal-html").find("textarea[name=code]");n=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let l='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">HTML</label><input type="hidden" name="data['+slug(a)+'][type]" value="html"><textarea class="form-control p-2" name="data['+slug(a)+'][html]" placeholder="e.g. some description here">'+n+"</textarea></div></div></div></div></div>";$("#content").append('<div class="item"><div id="'+a+'">'+n+"</div></div>"),$("#linkcontent").append(l)}function fnopensea(t,e=null,a=null){let n=/^https?:\/\/(www.)?(opensea.io)\/assets\/(.*)\/(.*)\/(.*)/i;if(e)var l=e.link;else{let e=t.parent("#modal-opensea").find("input[name=link]");if(!n.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let i='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="opensea"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div></div>',o=l.match(n);$("#content").append('<div class="item mb-2"><div id="'+a+'"><nft-card width="100%" contractAddress="'+o[4]+'" tokenId="'+o[5]+'"> </nft-card> <script src="https://unpkg.com/embeddable-nfts/dist/nft-card.min.js"></script></div></div>'),$("#linkcontent").append(i),$(document).on("blur","#"+a+"Container input[type=text]",function(){if(ellink=$(this),!n.test(ellink.val()))return ellink.after('<p class="alt-error text-danger mt-2">'+$("#modal-opensea input[name=link]").data("error")+"</p>"),!1;$("#"+a).parent(".item").remove(),$("#"+a+"Container .alt-error").remove(),o=$(this).val().match(n),$("#content").append('<div class="item mb-2"><div id="'+a+'"><nft-card width="100%" contractAddress="'+o[4]+'" tokenId="'+o[5]+'"> </nft-card> <script src="https://unpkg.com/embeddable-nfts/dist/nft-card.min.js"></script></div></div>')})}function fntwitter(t,e=null,a=null){let n=/^https?:\/\/(www.)?(twitter.com)\/(.*)/i;if(e)var l=e.link,i=e.amount;else{let e=t.parent("#modal-twitter").find("input[name=link]"),a=t.parent("#modal-twitter").find("input[name=amount]");if(!n.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val(),i=a.val();parseInt(i)||(i=1),e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let o='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="twitter"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.amount+'</label><input type="number" class="form-control p-2" name="data['+slug(a)+'][amount]" value="'+i+'" placeholder="e.g. 2"></div></div></div></div></div>';$("#content").append('<div class="item mb-2"><div id="'+a+'"><a class="twitter-timeline" data-chrome="nofooter" data-width="100%" data-tweet-limit="'+i+'" href="'+l+'" >Tweets</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></div>'),$("#linkcontent").append(o),$(document).on("blur","#"+a+"Container input[type=text]",function(){if(ellink=$(this),!n.test(ellink.val()))return ellink.after('<p class="alt-error text-danger mt-2">'+$("#modal-twitter input[name=link]").data("error")+"</p>"),!1;l=ellink.val(),i=$("#"+a+"Container input[type=number]").val(),parseInt(i)||(i=1),$("#"+a).parent(".item").remove(),$("#"+a+"Container .alt-error").remove(),$("#content").append('<div class="item mb-2"><div id="'+a+'"><a class="twitter-timeline" data-chrome="nofooter" data-width="100%" data-tweet-limit="'+i+'" href="'+l+'" >Tweets</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></div>')}),$(document).on("blur","#"+a+"Container input[type=number]",function(){if(ellink=$("#"+a+"Container input[type=text]"),!n.test(ellink.val()))return ellink.after('<p class="alt-error text-danger mt-2">'+$("#modal-twitter input[name=link]").data("error")+"</p>"),!1;l=ellink.val(),i=$(this).val(),parseInt(i)||(i=1),$("#"+a).parent(".item").remove(),$("#"+a+"Container .alt-error").remove(),$("#content").append('<div class="item mb-2"><div id="'+a+'"><a class="twitter-timeline" data-chrome="nofooter" data-width="100%" data-tweet-limit="'+i+'" href="'+l+'" >Tweets</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></div>')})}function fnsoundcloud(t,e=null,a=null){let n=/^https?:\/\/(www.)?(soundcloud.com)\/(.*)/i;if(e)var l=e.link;else{let e=t.parent("#modal-soundcloud").find("input[name=link]");if(!n.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let i='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="soundcloud"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#content").append('<div class="item mb-2"><div id="'+a+'"><iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url='+encodeURIComponent(l)+'&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe></div></div>'),$("#linkcontent").append(i),$(document).on("blur","#"+a+"Container input[type=text]",function(){if(ellink=$(this),!n.test(ellink.val()))return ellink.after('<p class="alt-error text-danger mt-2">'+$("#modal-soundcloud input[name=link]").data("error")+"</p>"),!1;l=$(this).val(),$("#"+a+"Container .alt-error").remove(),$("#"+a+" iframe").attr("src","https://w.soundcloud.com/player/?url="+encodeURIComponent(l)+"&color=%23ff5500auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true")})}function fnfacebook(t,e=null,a=null){let n=/^https?:\/\/(www.)?(((.*).)?facebook.com)\/(.*)/i;if(e)var l=e.link;else{let e=t.parent("#modal-facebook").find("input[name=link]");if(!n.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let i='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="facebook"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#content").append('<div class="item mb-2"><div id="'+a+'"><div id="fb-root"></div><script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v14.0" nonce="WaCixDC1"></script><div class="fb-post" data-href="'+l+'" data-show-text="true"></div></div></div>'),$("#linkcontent").append(i),$(document).on("blur","#"+a+"Container input[type=text]",function(){if(ellink=$(this),!n.test(ellink.val()))return ellink.after('<p class="alt-error text-danger mt-2">'+$("#modal-facebook").find("input[name=link]").data("error")+"</p>"),!1;l=$(this).val(),$("#"+a+"Container .alt-error").remove(),$("#"+a).html('<div id="fb-root"></div><script>FB.XFBML.parse()</script><script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v14.0" nonce="WaCixDC1"></script><div class="fb-post" data-href="'+l+'" data-show-text="true"></div>')})}function fninstagram(t,e=null,a=null){let n=/^https?:\/\/(www.)?(((.*).)?instagram.com)\/(.*)/i;if(e)var l=e.link;else{let e=t.parent("#modal-instagram").find("input[name=link]");if(!n.test(e.val()))return e.after('<p class="alt-error text-danger mt-2">'+e.data("error")+"</p>"),!1;l=e.val();e.val("")}null==a&&(a=(Math.random()+1).toString(36).substring(2));let i='<div class="px-1 pt-1 border rounded widget sortable mb-2" data-id="'+a+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="'+a+'Container"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(a)+'][type]" value="instagram"><input type="text" class="form-control p-2" name="data['+slug(a)+'][link]" value="'+l+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#content").append('<div class="item mb-2"><div id="'+a+'"><div class="inner"><blockquote class="instagram-media" data-instgrm-permalink="'+l+'" data-instgrm-version="14" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"></blockquote></div> <script async src="//www.instagram.com/embed.js"></script></div></div>'),$("#linkcontent").append(i),$(document).on("blur","#"+a+"Container input[type=text]",function(){if(ellink=$(this),!n.test(ellink.val()))return ellink.after('<p class="alt-error text-danger mt-2">'+$("#modal-instagram").find("input[name=link]").data("error")+"</p>"),!1;l=$(this).val(),$("#"+a+"Container .alt-error").remove(),$("#"+a+" .inner").html('<blockquote class="instagram-media" data-instgrm-permalink="'+l+'" data-instgrm-version="14" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"></blockquote><script>window.instgrm.Embeds.process()</script>')})}function fntagline(t,e=null,a=null){if(e)var n=e.text;else{let e=t.parent("#modal-tagline").find("input[type=text]");n=e.val();e.val("")}if($("#preview #bio-tag").length>0)return $("#modal-tagline input[type=text]").after('<p class="alt-error text-danger mt-2">'+$("#modal-tagline input[type=text]").data("error")+"</p>"),!1;let l='<div class="px-1 pt-1 border rounded widget mb-2" data-id="bio-tag"><div class="d-flex align-items-center"><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5><span class="align-top">'+t.parent(".collapse").data("name")+'</span></h5><div class="row mt-2" id="bio-tagContainer"><div class="col-md-12"><div class="form-group"><input type="hidden" name="data[bio-tag][type]" value="tagline"><input type="text" class="form-control p-2" name="data[bio-tag][text]" value="'+n+'"></div></div></div></div></div>';$("#preview #bio-title").after('<div class="item"><div id="bio-tag"></div></div>'),$("#preview #bio-tag").text(n),$("#linkcontent").append(l),$(document).on("blur","#bio-tagContainer input[type=text]",function(){$("#preview #bio-tag").text($(this).val())})}function bioupdate(){for(bio in biodata){let t="fn"+biodata[bio].type;window[t]($("[data-type="+biodata[bio].type+"]"),biodata[bio],bio)}}function slug(t){t=encodeURIComponent(t),t=t.replace(/^\s+|\s+$/g,""),t=t.toLowerCase();for(var e="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",a="aaaaeeeeiiiioooouuuunc------",n=0,l=e.length;n<l;n++)t=t.replace(new RegExp(e.charAt(n),"g"),a.charAt(n));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),t}!function(t,e,a,n){function l(t,e){var a=Math.max(0,t[0]-e[0],e[0]-t[1]),n=Math.max(0,t[2]-e[1],e[1]-t[3]);return a+n}function i(e,a,n,l){var i=e.length,o=l?"offset":"position";for(n=n||0;i--;){var s=e[i].el?e[i].el:t(e[i]),r=s[o]();r.left+=parseInt(s.css("margin-left"),10),r.top+=parseInt(s.css("margin-top"),10),a[i]=[r.left-n,r.left+s.outerWidth()+n,r.top-n,r.top+s.outerHeight()+n]}}function o(t,e){var a=e.offset();return{left:t.left-a.left,top:t.top-a.top}}function s(t,e,a){e=[e.left,e.top],a=a&&[a.left,a.top];for(var n,i=t.length,o=[];i--;)n=t[i],o[i]=[i,l(n,e),a&&l(n,a)];return o=o.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]}),o}function r(e){this.options=t.extend({},p,e),this.containers=[],this.options.rootGroup||(this.scrollProxy=t.proxy(this.scroll,this),this.dragProxy=t.proxy(this.drag,this),this.dropProxy=t.proxy(this.drop,this),this.placeholder=t(this.options.placeholder),e.isValidTarget||(this.options.isValidTarget=n))}function d(e,a){this.el=e,this.options=t.extend({},c,a),this.group=r.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var n=this.rootGroup.options.itemPath;this.target=n?this.el.find(n):this.el,this.target.on(f.start,this.handle,t.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var c={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},p={afterMove:function(t,e,a){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(t,e){return!0},onCancel:function(t,e,a,n){},onDrag:function(t,e,a,n){t.css(e)},onDragStart:function(e,a,n,l){e.css({height:e.outerHeight(),width:e.outerWidth()}),e.addClass(a.group.options.draggedClass),t("body").addClass(a.group.options.bodyClass)},onDrop:function(e,a,n,l){e.removeClass(a.group.options.draggedClass).removeAttr("style"),t("body").removeClass(a.group.options.bodyClass)},onMousedown:function(t,e,a){if(!a.target.nodeName.match(/^(input|select|textarea)$/i))return a.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(e,a,n){var l=t.extend({},e.data());return n?[a]:(a[0]&&(l.children=a),delete l.subContainers,delete l.sortable,l)},tolerance:0},m={},u=0,v={left:0,top:0,bottom:0,right:0},f={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},g="subContainers";r.get=function(t){return m[t.group]||(t.group===n&&(t.group=u++),m[t.group]=new r(t)),m[t.group]},r.prototype={dragInit:function(e,a){this.$document=t(a.el[0].ownerDocument);var n=t(e.target).closest(this.options.itemSelector);if(n.length){if(this.item=n,this.itemContainer=a,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,p.onMousedown,e))return;this.setPointer(e),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(t){if(!this.dragging){if(!this.distanceMet(t)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,p.onDragStart,t),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(t),this.options.onDrag(this.item,o(this.pointer,this.item.offsetParent()),p.onDrag,t);var e=this.getPointer(t),a=this.sameResultBox,l=this.options.tolerance;(!a||a.top-l>e.top||a.bottom+l<e.top||a.left-l>e.left||a.right+l<e.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=n))},drop:function(t){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,p.onCancel,t),this.options.onDrop(this.item,this.getContainer(this.item),p.onDrop,t),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=n,this.dragging=!1)},searchValidTarget:function(t,e){t||(t=this.relativePointer||this.pointer,e=this.lastRelativePointer||this.lastPointer);for(var a=s(this.getContainerDimensions(),t,e),l=a.length;l--;){var i=a[l][0],r=a[l][1];if(!r||this.options.pullPlaceholder){var d=this.containers[i];if(!d.disabled){if(!this.$getOffsetParent()){var c=d.getItemOffsetParent();t=o(t,c),e=o(e,c)}if(d.searchValidTarget(t,e))return!0}}}this.sameResultBox&&(this.sameResultBox=n)},movePlaceholder:function(t,e,a,n){var l=this.lastAppendedItem;!n&&l&&l[0]===e[0]||(e[a](this.placeholder),this.lastAppendedItem=e,this.sameResultBox=n,this.options.afterMove(this.placeholder,t,e))},getContainerDimensions:function(){return this.containerDimensions||i(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(a)},$getOffsetParent:function(){if(this.offsetParent===n){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.rootGroup)for(;t--;)if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=!1;break}this.offsetParent=e}return this.offsetParent},setPointer:function(t){var e=this.getPointer(t);if(this.$getOffsetParent()){var a=o(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=a}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(t){var e=this.getPointer(t);return Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(t){var e=t.originalEvent||t.originalEvent.touches&&t.originalEvent.touches[0];return{left:t.pageX||e.pageX,top:t.pageY||e.pageY}},setupDelayTimer:function(){var t=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){t.delayMet=!0},this.options.delay))},scroll:function(t){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(e){var a=this,n=["drag","drop","scroll"];t.each(n,function(t,n){a.$document[e](f[n],a[n+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=n},clearDimensions:function(){this.traverse(function(t){t._clearDimensions()})},traverse:function(t){t(this);for(var e=this.containers.length;e--;)this.containers[e].traverse(t)},_clearDimensions:function(){this.containerDimensions=n},_destroy:function(){m[this.options.group]=n}},d.prototype={dragInit:function(t){var e=this.rootGroup;!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(t)&&e.dragInit(t,this)},isValidDrag:function(t){return 1==t.which||"touchstart"==t.type&&1==t.originalEvent.touches.length},searchValidTarget:function(t,e){var a=s(this.getItemDimensions(),t,e),n=a.length,l=this.rootGroup,i=!l.options.isValidTarget||l.options.isValidTarget(l.item,this);if(!n&&i)return l.movePlaceholder(this,this.target,"append"),!0;for(;n--;){var o=a[n][0],r=a[n][1];if(!r&&this.hasChildGroup(o)){var d=this.getContainerGroup(o).searchValidTarget(t,e);if(d)return!0}else if(i)return this.movePlaceholder(o,t),!0}},movePlaceholder:function(e,a){var n=t(this.items[e]),l=this.itemDimensions[e],i="after",o=n.outerWidth(),s=n.outerHeight(),r=n.offset(),d={left:r.left,right:r.left+o,top:r.top,bottom:r.top+s};if(this.options.vertical){var c=(l[2]+l[3])/2,p=a.top<=c;p?(i="before",d.bottom-=s/2):d.top+=s/2}else{var m=(l[0]+l[1])/2,u=a.left<=m;u?(i="before",d.right-=o/2):d.left+=o/2}this.hasChildGroup(e)&&(d=v),
this.rootGroup.movePlaceholder(this,n,i,d)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),i(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var t,e=this.el;return t="relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent(),t},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(e){var l=t.data(this.items[e],g);if(l===n){var i=this.$getChildren(this.items[e],"container");if(l=!1,i[0]){var o=t.extend({},this.options,{rootGroup:this.rootGroup,group:u++});l=i[a](o).data(a).group}t.data(this.items[e],g,l)}return l},$getChildren:function(e,a){var n=this.rootGroup.options,l=n[a+"Path"],i=n[a+"Selector"];return e=t(e),l&&(e=e.find(l)),e.children(i)},_serialize:function(e,a){var n=this,l=a?"item":"container",i=this.$getChildren(e,l).not(this.options.exclude).map(function(){return n._serialize(t(this),!a)}).get();return this.rootGroup.options.serialize(e,i,a)},traverse:function(e){t.each(this.items||[],function(a){var n=t.data(this,g);n&&n.traverse(e)}),e(this)},_clearDimensions:function(){this.itemDimensions=n},_destroy:function(){var e=this;this.target.off(f.start,this.handle),this.el.removeData(a),this.options.drop&&(this.group.containers=t.grep(this.group.containers,function(t){return t!=e})),t.each(this.items||[],function(){t.removeData(this,g)})}};var b={enable:function(){this.traverse(function(t){t.disabled=!1})},disable:function(){this.traverse(function(t){t.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(t){t._clearDimensions()})},destroy:function(){this.traverse(function(t){t._destroy()})}};t.extend(d.prototype,b),t.fn[a]=function(e){var l=Array.prototype.slice.call(arguments,1);return this.map(function(){var i=t(this),o=i.data(a);return o&&b[e]?b[e].apply(o,l)||this:(o||e!==n&&"object"!=typeof e||i.data(a,new d(i,e)),this)})}}(jQuery,window,"sortable"),$(document).ready(function(){var t=[];$("[data-trigger=addsocial]").click(function(e){e.preventDefault();let a=$(this).parents(".card").find("select[name=platform]").val(),n=$(this).parents(".card").find("input[name=socialink]").val(),l=/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/;if(n.length<5||!l.test(n))return $.notify({message:$(this).data("error")},{type:"danger",placement:{from:"top",align:"right"}}),!1;if(t.includes(a))return $.notify({message:$(this).data("error-alt")},{type:"danger",placement:{from:"top",align:"right"}}),!1;t.push(a);let i='<div class="input-group mb-3 border rounded p-2"><div class="input-group-text bg-white"><i class="fab fa-'+a+'"></i></div><input type="text" class="form-control p-2" name="social['+a+']" placeholder="https://" value="'+n+'"></div>';$("#sociallinksholder").removeClass("d-none").append(i)}),$(document).on("click","[data-trigger=removesocial]",function(t){t.preventDefault(),$(this).parents(".input-group").fadeOut("medium",function(){$(this).remove()})}),$("[data-trigger=bgtype]").click(function(){let t=$(this).attr("href").replace("#","");$("input[name=mode]").val(t),$("input[name=theme]").val(""),$("#preview .card").removeClass(function(t,e){return(e.match(/(^|\s)biobg_\S+/g)||[]).join(" ")})}),$("input#fonts").fontselect({googleFonts:["Alegreya+Sans","BioRhyme","Changa","Coda","Cormorant","DM+Sans","Eczar","Fira+Sans","Inkut+Antiqua","Poppins","Karla","Montserrat","Proza+Libre","Open+Sans","Inter","Pacifico","Press+Start+2P","Roboto","Source+Sans+Pro","Space+Mono","Syne","Work+Sans"]}).on("change",function(){var t=this.value.replace(/\+/g," ");t=t.split(":");var e=t[0],a=t[1]||400;$("#preview").css({fontFamily:"'"+e+"'",fontWeight:a})}),$("#linkcontent").sortable({containerSelector:"#linkcontent",handle:".handle",itemSelector:".sortable",placeholder:'<div class="card p-4 bg-secondary shadow-none border"></div>',onMousedown:function(t,e,a){if(!a.target.nodeName.match(/^(input|select|textarea)$/i))return a.preventDefault(),before=t.index(),!0},onDrop:function(t,e,a,n){t.removeClass(e.group.options.draggedClass).removeAttr("style"),$("body").removeClass(e.group.options.bodyClass),after=t.index(),lafter=$("#preview #content .item:eq("+after+")"),lebefore=$("#preview #content .item:eq("+before+")"),lafter.replaceWith(lebefore),before>after?lebefore.after(lafter):lebefore.before(lafter);var l=t.find("textarea").attr("id");void 0!==l&&(CKEDITOR.instances[l].destroy(),CKEDITOR.replace(l,{height:100}))}}),$("[data-trigger=insertcontent]").click(function(t){t.preventDefault();let e="fn"+$(this).data("type");if($(".alt-error").remove(),void 0!==e){let t=window[e]($(this));if(!1===t)return;$("#contentModal div").removeClass("show"),$("#options").addClass("show"),$("#contentModal .btn-close").click()}}),$(document).on("click","[data-trigger=removeCard]",function(t){t.preventDefault();let e=$(this).parents(".widget").data("id");$("a[data-trigger=confirmremove]").data("id",e)}),$(document).on("click","[data-trigger=confirmremove]",function(t){t.preventDefault();let e=$(this).data("id");$("[data-id="+e+"]").remove(),$("#preview").find("#"+e).parent(".item").remove(),$("#removecard .btn-close").click()}),changeTheme("#ffffff","#ffffff","#ffffff","#000000","#ffffff","#0000000"),$("#dividercolor").spectrum({color:"#000000",showInput:!0,preferredFormat:"hex"}),$("[data-trigger=changetheme]").click(function(){$("input[name=mode]").val("gradient"),$("#gradient").collapse("show"),$("a[href*=gradient]").addClass("active"),$("input[name=theme]").val("")}),$("[data-trigger=customtheme]").click(function(){$("input[name=theme]").val($(this).data("theme")),$("input[name=mode]").val("custom")}),$("#biopage-name").keyup(function(){let t=$(this).val();$("#preview h3#bio-title > span").text(t)}),$("#avatar").change(function(){for(var t,e=$(this).prop("files"),a=0;t=e[a];a++)if(!["image/jpeg","image/jpg","image/png"].includes(t.type)||t.size>512e3)$.notify({message:$("#avatar").data("error")},{type:"danger",placement:{from:"top",align:"right"}});else{var n=new FileReader;n.onload=function(t){$("#useravatar, #preview #userimage").attr("src",t.target.result)},n.readAsDataURL(t)}}),$("#avatarenabled").change(function(){$("#preview #userimage").toggle()}),$("[data-trigger=uploadavatar]").click(function(t){t.preventDefault(),$("#avatar").click()}),$("#bgimage").change(function(){for(var t,e=$(this).prop("files"),a=0;t=e[a];a++)if(!["image/jpeg","image/jpg","image/png"].includes(t.type)||t.size>1048576)$.notify({message:$("#bgimage").data("error")},{type:"danger",placement:{from:"top",align:"right"}});else{var n=new FileReader;n.onload=function(t){$("#preview .card").attr("style","background-image:url("+t.target.result+");background-size:cover;")},n.readAsDataURL(t)}}),$(document).on("change","[data-trigger=setpreview]",function(){for(var t,e=$(this).prop("files"),a=$(this).data("for"),n=0;t=e[n];n++)if(t.type.match("image.*")){var l=new FileReader;l.onload=function(t){$("#preview").find("#"+a).html('<img src="'+t.target.result+'" class="img-fluid rounded">')},l.readAsDataURL(t)}}),$(document).on("submit","form",function(t){t.preventDefault();let e=$(this).attr("action"),a=!0;if($(".form-control").removeClass("is-invalid"),$(this).find("[required]").each(function(){let t=$(this).attr("min")?$(this).attr("min"):3;$(this).val().length<t&&(a=!1,$(this).addClass("is-invalid"),$(this).data("error")&&$.notify({message:$(this).data("error")},{type:"danger",placement:{from:"bottom",align:"right"}}))}),0==a)return!1;let n=new FormData($(this)[0]),l=$(this).find("button[type=submit]").text();for(var i in CKEDITOR.instances)CKEDITOR.instances[i].updateElement();$.ajax({type:"POST",url:e,data:n,contentType:!1,processData:!1,dataType:"json",beforeSend:function(){$("form").find("button[type=submit]").attr("disabled","disabled").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>')},complete:function(){$("form").find("button[type=submit]").text(l).removeAttr("disabled")},success:function(t){$("input[name=_token]").val(t.token),t.error?$.notify({message:t.message},{type:"danger",placement:{from:"top",align:"right"}}):($.notify({message:t.message},{type:"success",placement:{from:"top",align:"right"}}),t.html&&$("body").append(t.html),$(this).find("input,textarea,select").val(""))}})})}),$("[data-trigger=color]").each(function(){var t="#000000";$(this).data("default")&&(t=$(this).data("default")),$(this).spectrum({color:t,showInput:!0,preferredFormat:"hex"})}),$("select#buttonstyle").change(function(){"trec"==$(this).val()?$(".btn-custom").removeClass("rounded-pill").addClass("rounded").addClass("btn-transparent").addClass("btn-border").css("background-color","transparent").css("border-color",$("#buttoncolor").val()):"tro"==$(this).val()?$(".btn-custom").removeClass("rounded").addClass("rounded-pill").addClass("btn-transparent").addClass("btn-border").css("background-color","transparent").css("border-color",$("#buttoncolor").val()):"rounded"==$(this).val()?$(".btn-custom").removeClass("rounded").removeClass("btn-transparent").addClass("rounded-pill").removeClass("btn-border").css("background-color",$("#buttoncolor").val()).css("border","0"):$(".btn-custom").removeClass("rounded-pill").removeClass("btn-transparent").addClass("rounded").removeClass("btn-border").css("background-color",$("#buttoncolor").val()).css("border","0")});